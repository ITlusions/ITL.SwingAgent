# Example environment configuration for external databases

# === PostgreSQL Configuration ===
# Option 1: Direct database URL
# export SWING_DATABASE_URL="postgresql+psycopg2://username:password@localhost:5432/swing_agent"

# Option 2: Individual components
# export SWING_DB_TYPE=postgresql
# export SWING_DB_HOST=localhost
# export SWING_DB_PORT=5432
# export SWING_DB_NAME=swing_agent
# export SWING_DB_USER=swing_user
# export SWING_DB_PASSWORD=your_secure_password

# === CNPG (CloudNativePG) Configuration ===
# For Kubernetes deployments with CNPG operator
# export SWING_DB_TYPE=cnpg
# export CNPG_CLUSTER_NAME=swing-postgres
# export CNPG_NAMESPACE=default
# export CNPG_SERVICE_TYPE=rw                    # 'rw' for read-write, 'ro' for read-only
# export SWING_DB_NAME=swing_agent
# export SWING_DB_USER=swing_user
# export SWING_DB_PASSWORD=your_secure_password

# CNPG SSL Configuration (optional)
# export CNPG_SSL_MODE=require                   # require, prefer, allow, disable
# export CNPG_SSL_CERT=/ssl/client.crt          # Client certificate path
# export CNPG_SSL_KEY=/ssl/client.key           # Client key path
# export CNPG_SSL_CA=/ssl/ca.crt                # CA certificate path

# CNPG Connection Settings (optional)
# export CNPG_CONNECT_TIMEOUT=10                # Connection timeout in seconds
# export CNPG_APP_NAME=swing-agent              # Application name for monitoring

# === MySQL Configuration ===
# Option 1: Direct database URL
# export SWING_DATABASE_URL="mysql+pymysql://username:password@localhost:3306/swing_agent"

# Option 2: Individual components
# export SWING_DB_TYPE=mysql
# export SWING_DB_HOST=localhost
# export SWING_DB_PORT=3306
# export SWING_DB_NAME=swing_agent
# export SWING_DB_USER=swing_user
# export SWING_DB_PASSWORD=your_secure_password

# === Connection Pool Settings (Optional) ===
# export SWING_DB_POOL_SIZE=5              # Number of connections to maintain
# export SWING_DB_MAX_OVERFLOW=10          # Maximum additional connections
# export SWING_DB_POOL_TIMEOUT=30          # Connection timeout in seconds
# export SWING_DB_POOL_RECYCLE=3600        # Connection recycle time in seconds

# CNPG recommended pool settings for Kubernetes
# export SWING_DB_POOL_SIZE=10             # Higher for CNPG clusters
# export SWING_DB_MAX_OVERFLOW=20          # More overflow for scaling
# export SWING_DB_POOL_RECYCLE=1800        # Shorter recycle for k8s

# === Debug Settings (Optional) ===
# export SWING_DB_ECHO=true                # Enable SQL query logging

# === Example Production Setup ===
# For production deployments, consider:
# 1. Using a secure secret management system instead of environment variables
# 2. Configuring SSL/TLS connections
# 3. Setting up proper firewall rules
# 4. Using dedicated database users with minimal permissions
# 5. Implementing regular backup procedures
# 6. Setting up monitoring and alerting

# === Usage ===
# 1. Copy this file to .env or similar
# 2. Uncomment and configure the appropriate database section
# 3. Source the file: source .env
# 4. Install database drivers: pip install swing-agent[postgresql] or pip install swing-agent[mysql]
# 5. Run SwingAgent scripts normally - they'll automatically use the external database

# === Docker Compose Example ===
# version: '3.8'
# services:
#   postgres:
#     image: postgres:15
#     environment:
#       POSTGRES_DB: swing_agent
#       POSTGRES_USER: swing_user
#       POSTGRES_PASSWORD: your_secure_password
#     ports:
#       - "5432:5432"
#     volumes:
#       - postgres_data:/var/lib/postgresql/data
#   
#   swing_agent:
#     build: .
#     environment:
#       SWING_DB_TYPE: postgresql
#       SWING_DB_HOST: postgres
#       SWING_DB_NAME: swing_agent
#       SWING_DB_USER: swing_user
#       SWING_DB_PASSWORD: your_secure_password
#     depends_on:
#       - postgres
# 
# volumes:
#   postgres_data:

# === Kubernetes/CNPG Example ===
# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: swing-config
# data:
#   SWING_DB_TYPE: "cnpg"
#   CNPG_CLUSTER_NAME: "swing-postgres"
#   CNPG_NAMESPACE: "default"
#   CNPG_SERVICE_TYPE: "rw"
#   SWING_DB_NAME: "swing_agent"
#   CNPG_SSL_MODE: "require"
#   SWING_DB_POOL_SIZE: "10"
#   SWING_DB_MAX_OVERFLOW: "20"
# ---
# apiVersion: v1
# kind: Secret
# metadata:
#   name: swing-db-secret
# data:
#   SWING_DB_USER: c3dpbmdfdXNlcg==     # swing_user (base64)
#   SWING_DB_PASSWORD: c3dpbmdfcGFzcw== # your_password (base64)